<!DOCTYPE html>
<html>
<head>
  <title>Testit - Admin Panel</title>
  <style>
    body { margin: 0; font-family: Arial; background: #0b1020; color: white; text-align: center; }
    .topbar { background: #1f2937; padding: 15px; display: flex; justify-content: center; gap: 20px; }
    .topbar a { color: white; text-decoration: none; font-weight: bold; }
    .topbar a:hover { text-decoration: underline; }

    .container { margin-top: 40px; }
    input, button { padding: 10px; margin: 10px; border-radius: 5px; border: none; font-size: 16px; }
    button { cursor: pointer; background-color: #2563eb; color: white; }
    button:hover { background-color: #1d4ed8; }
  </style>
</head>
<body>

<div class="topbar">
  <a href="index.html">Home</a>
  <a href="stats.html">Stats</a>
  <a href="tests.html">Tests</a>
  <a href="shop.html">Shop</a>
  <a href="announcements.html">Announcements</a>
  <a href="admin.html">Admin</a>
</div>

<div class="container">
  <h1>ðŸ”’ Admin Panel</h1>

  <div id="loginDiv">
    <input type="password" id="adminPassword" placeholder="Enter Admin Password">
    <button onclick="checkPassword()">Login</button>
  </div>

  <div id="panel" style="display:none;">
    <h2>Welcome Admin!</h2>
    
    <div>
      <input type="number" id="addCoins" placeholder="Coins to add">
      <button onclick="giveCoins()">Give Coins</button>
    </div>

    <div>
      <input type="text" id="charName" placeholder="Character Name">
      <select id="charRarity">
        <option value="common">Common</option>
        <option value="rare">Rare</option>
        <option value="legendary">Legendary</option>
      </select>
      <input type="text" id="charChroma" placeholder="Chroma (optional)">
      <button onclick="giveChar()">Give Character</button>
    </div>

    <div>
      <h3>Current Coins: <span id="coinsDisplay"></span></h3>
      <h3>Collection:</h3>
      <div id="collection"></div>
    </div>
  </div>
</div>

<script>
  const ADMIN_PASSWORD = "testit123"; // set your admin password here

  let coins = parseInt(localStorage.getItem("coins")) || 100;
  let characters = JSON.parse(localStorage.getItem("characters")) || {};

  function checkPassword(){
    const pw = document.getElementById("adminPassword").value;
    if(pw === ADMIN_PASSWORD){
      document.getElementById("loginDiv").style.display = "none";
      document.getElementById("panel").style.display = "block";
      updateDisplay();
    } else {
      alert("Incorrect password!");
    }
  }

  function updateDisplay(){
    document.getElementById("coinsDisplay").innerText = coins;
    const colDiv = document.getElementById("collection");
    colDiv.innerHTML = "";
    if(Object.keys(characters).length === 0){
      colDiv.innerHTML = "No characters yet.";
    } else {
      for(let id in characters){
        const c = characters[id];
        colDiv.innerHTML += `<div>${c.name}${c.chroma ? " ("+c.chroma+")":""} x${c.count} [${c.rarity}]</div>`;
      }
    }
  }

  function giveCoins(){
    const amt = parseInt(document.getElementById("addCoins").value);
    if(!isNaN(amt)){
      coins += amt;
      localStorage.setItem("coins", coins);
      updateDisplay();
    }
  }

  function giveChar(){
    const name = document.getElementById("charName").value.trim();
    const rarity = document.getElementById("charRarity").value;
    const chroma = document.getElementById("charChroma").value.trim();
    if(name === "") return alert("Enter character name");

    const id = name + (chroma ? "_"+chroma : "");
    if(characters[id]){
      characters[id].count += 1;
    } else {
      characters[id] = {count:1, rarity:rarity, img:"https://via.placeholder.com/100?text="+name, name:name, chroma:chroma || ""};
    }
    localStorage.setItem("characters", JSON.stringify(characters));
    updateDisplay();
  }
</script>

</body>
</html>
